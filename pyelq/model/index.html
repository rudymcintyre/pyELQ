
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This repository contains the Python Emission Localization and Quantification software we call pyELQ. It is code used for gas dispersion modelling, in particular methane emissions detection, localization and quantification.">
      
      
        <meta name="author" content="pyELQ">
      
      
      
        <link rel="prev" href="../meteorology/">
      
      
        <link rel="next" href="../plotting/plot/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Model - pyELQ Python Emission Localization and Quantification</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


  
  
    
    
      
    
    
  
  
  <style>.md-tag.md-tag--pipelines{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M128 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48m32 97.3c28.3-12.3 48-40.5 48-73.3 0-44.2-35.8-80-80-80S48 51.8 48 96c0 32.8 19.7 61 48 73.3V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h256v54.7c-28.3 12.3-48 40.5-48 73.3 0 44.2 35.8 80 80 80s80-35.8 80-80c0-32.8-19.7-61-48-73.3V288h256c17.7 0 32-14.3 32-32s-14.3-32-32-32h-64v-54.7c28.3-12.3 48-40.5 48-73.3 0-44.2-35.8-80-80-80s-80 35.8-80 80c0 32.8 19.7 61 48 73.3V224H160zM488 96a24 24 0 1 1 48 0 24 24 0 1 1-48 0M320 392a24 24 0 1 1 0 48 24 24 0 1 1 0-48"/></svg>');}</style>

    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="pyELQ Python Emission Localization and Quantification" class="md-header__button md-logo" aria-label="pyELQ Python Emission Localization and Quantification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyELQ Python Emission Localization and Quantification
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Model
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sede-open/pyELQ" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    pyELQ
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../component/component/" class="md-tabs__link">
          
  
    
  
  pyELQ User Guide

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="pyELQ Python Emission Localization and Quantification" class="md-nav__button md-logo" aria-label="pyELQ Python Emission Localization and Quantification" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    pyELQ Python Emission Localization and Quantification
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sede-open/pyELQ" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    pyELQ
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    pyELQ User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            pyELQ User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component/component/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component/background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component/error_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component/offset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Offset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component/source_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Model
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../coordinate_system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coordinate System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_access/data_access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dispersion_model/gaussian_plume/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dispersion Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dlm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gas_species/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gas Species
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meteorology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meteorology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Model
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Model
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyelq.model" class="md-nav__link">
    <span class="md-ellipsis">
      model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel" class="md-nav__link">
    <span class="md-ellipsis">
      ELQModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ELQModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.initialise" class="md-nav__link">
    <span class="md-ellipsis">
      initialise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.to_mcmc" class="md-nav__link">
    <span class="md-ellipsis">
      to_mcmc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.run_mcmc" class="md-nav__link">
    <span class="md-ellipsis">
      run_mcmc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.from_mcmc" class="md-nav__link">
    <span class="md-ellipsis">
      from_mcmc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.plot_log_posterior" class="md-nav__link">
    <span class="md-ellipsis">
      plot_log_posterior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.plot_fitted_values" class="md-nav__link">
    <span class="md-ellipsis">
      plot_fitted_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/plot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-Processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sensor
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_11">
            <span class="md-nav__icon md-icon"></span>
            Sensor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor/sensor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor/beam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Beam
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor/satellite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Satellite
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../source_map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Source Map
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../support_functions/spatio_temporal_interpolation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support Functions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyelq.model" class="md-nav__link">
    <span class="md-ellipsis">
      model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel" class="md-nav__link">
    <span class="md-ellipsis">
      ELQModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ELQModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.initialise" class="md-nav__link">
    <span class="md-ellipsis">
      initialise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.to_mcmc" class="md-nav__link">
    <span class="md-ellipsis">
      to_mcmc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.run_mcmc" class="md-nav__link">
    <span class="md-ellipsis">
      run_mcmc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.from_mcmc" class="md-nav__link">
    <span class="md-ellipsis">
      from_mcmc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.plot_log_posterior" class="md-nav__link">
    <span class="md-ellipsis">
      plot_log_posterior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyelq.model.ELQModel.plot_fitted_values" class="md-nav__link">
    <span class="md-ellipsis">
      plot_fitted_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<!--
SPDX-FileCopyrightText: 2024 Shell Global Solutions International B.V. All Rights Reserved.

SPDX-License-Identifier: Apache-2.0
-->

<h1 id="model">Model</h1>


<div class="doc doc-object doc-module">



<a id="pyelq.model"></a>
    <div class="doc doc-contents first">

        <p>ELQModel module.</p>
<p>This module provides a class definition for the main functionalities of the codebase, providing the interface with the
openMCMC repo and defining some plotting wrappers.</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="pyelq.model.ELQModel" class="doc doc-heading">
            <code>ELQModel</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Class for setting up, running, and post-processing the full ELQModel analysis.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.form">form</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dictionary detailing the form of the predictor for the concentration data. For details of the
required specification, see parameter.LinearCombinationWithTransform() in the openMCMC repo.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.transform">transform</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dictionary detailing transformations applied to the model components. For details of the
required specification, see parameter.LinearCombinationWithTransform() in the openMCMC repo.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.model">model</span></code></td>
            <td>
                  <code><span title="openmcmc.model.Model">Model</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>full model specification for the analysis, constructed in self.to_mcmc().</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.mcmc">mcmc</span></code></td>
            <td>
                  <code><span title="openmcmc.mcmc.MCMC">MCMC</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>MCMC object containing model and sampler specification for the problem. Constructed from the
other components in self.to_mcmc().</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.n_iter">n_iter</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of MCMC iterations to be run.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.n_thin">n_thin</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of iterations to thin by.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pyelq.model.ELQModel.fitted_values">fitted_values</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>samples of fitted values (i.e. model predictions for the data) generated during the
MCMC sampler. Attached in self.from_mcmc().</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>src/pyelq/model.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ELQModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for setting up, running, and post-processing the full ELQModel analysis.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        form (dict): dictionary detailing the form of the predictor for the concentration data. For details of the</span>
<span class="sd">            required specification, see parameter.LinearCombinationWithTransform() in the openMCMC repo.</span>
<span class="sd">        transform (dict): dictionary detailing transformations applied to the model components. For details of the</span>
<span class="sd">            required specification, see parameter.LinearCombinationWithTransform() in the openMCMC repo.</span>
<span class="sd">        model (Model): full model specification for the analysis, constructed in self.to_mcmc().</span>
<span class="sd">        mcmc (MCMC): MCMC object containing model and sampler specification for the problem. Constructed from the</span>
<span class="sd">            other components in self.to_mcmc().</span>
<span class="sd">        n_iter (int): number of MCMC iterations to be run.</span>
<span class="sd">        n_thin (int): number of iterations to thin by.</span>
<span class="sd">        fitted_values (np.ndarray): samples of fitted values (i.e. model predictions for the data) generated during the</span>
<span class="sd">            MCMC sampler. Attached in self.from_mcmc().</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">form</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">transform</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Model</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">mcmc</span><span class="p">:</span> <span class="n">MCMC</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">n_iter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="n">n_thin</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">fitted_values</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sensor_object</span><span class="p">:</span> <span class="n">SensorGroup</span><span class="p">,</span>
        <span class="n">meteorology</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Meteorology</span><span class="p">,</span> <span class="n">MeteorologyGroup</span><span class="p">],</span>
        <span class="n">gas_species</span><span class="p">:</span> <span class="n">GasSpecies</span><span class="p">,</span>
        <span class="n">background</span><span class="p">:</span> <span class="n">Background</span> <span class="o">=</span> <span class="n">SpatioTemporalBackground</span><span class="p">(),</span>
        <span class="n">source_model</span><span class="p">:</span> <span class="n">SourceModel</span> <span class="o">=</span> <span class="n">Normal</span><span class="p">(),</span>
        <span class="n">error_model</span><span class="p">:</span> <span class="n">ErrorModel</span> <span class="o">=</span> <span class="n">BySensor</span><span class="p">(),</span>
        <span class="n">offset_model</span><span class="p">:</span> <span class="n">PerSensor</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialise the ELQModel model.</span>

<span class="sd">        Model form is as follows:</span>
<span class="sd">        y = A*s + b + d + e</span>
<span class="sd">        where:</span>
<span class="sd">        - y is the vector of observed concentration data (extracted from the sensor object).</span>
<span class="sd">        - A*s is the source contribution (from the source model and dispersion model).</span>
<span class="sd">        - b is from the background model.</span>
<span class="sd">        - d is from the offset model.</span>
<span class="sd">        - e is residual error term and var(e) comes from the error precision model.</span>

<span class="sd">        Args:</span>
<span class="sd">            sensor_object (SensorGroup): sensor data.</span>
<span class="sd">            meteorology (Union[Meteorology, MeteorologyGroup]): meteorology data.</span>
<span class="sd">            gas_species (GasSpecies): gas species object.</span>
<span class="sd">            background (Background): background model specification. Defaults to SpatioTemporalBackground().</span>
<span class="sd">            source_model (SourceModel): source model specification. Defaults to Normal().</span>
<span class="sd">            error_model (Precision): measurement precision model specification. Defaults to BySensor().</span>
<span class="sd">            offset_model (PerSensor): offset model specification. Defaults to None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span> <span class="o">=</span> <span class="n">sensor_object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meteorology</span> <span class="o">=</span> <span class="n">meteorology</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gas_species</span> <span class="o">=</span> <span class="n">gas_species</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="n">background</span><span class="p">,</span>
            <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_model</span><span class="p">,</span>
            <span class="s2">&quot;error_model&quot;</span><span class="p">:</span> <span class="n">error_model</span><span class="p">,</span>
            <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset_model</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">error_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;error_model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BySensor</span><span class="p">()</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;None is not an allowed type for error_model: resetting to default BySensor model.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Take data inputs and extract relevant properties.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">component_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;B_bg&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="s2">&quot;source&quot;</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">[</span><span class="s2">&quot;s&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;s&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;A&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;offset&quot;</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;B_d&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">initialise</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">meteorology</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gas_species</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the ELQModel specification into an MCMC solver object that can be run.</span>

<span class="sd">        Executing the following steps:</span>
<span class="sd">            - Initialise the model object with the data likelihood (response distribution for y), and add all the</span>
<span class="sd">                associated prior distributions, as specified by the model components.</span>
<span class="sd">            - Initialise the state dictionary with the observed sensor data, and add parameters associated with all</span>
<span class="sd">                the associated prior distributions, as specified by the model components.</span>
<span class="sd">            - Initialise the MCMC sampler objects associated with each of the model components.</span>
<span class="sd">            - Create the MCMC solver object, using all of the above information.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_precision</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;error_model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">precision_parameter</span>
        <span class="n">model</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">location_scale</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span>
                <span class="s2">&quot;y&quot;</span><span class="p">,</span>
                <span class="n">mean</span><span class="o">=</span><span class="n">parameter</span><span class="o">.</span><span class="n">LinearCombinationWithTransform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">),</span>
                <span class="n">precision</span><span class="o">=</span><span class="n">response_precision</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

        <span class="n">initial_state</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span><span class="o">.</span><span class="n">concentration</span><span class="p">}</span>

        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">make_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
            <span class="n">initial_state</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">make_state</span><span class="p">(</span><span class="n">initial_state</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;mean&quot;</span><span class="p">})</span>

        <span class="n">sampler_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">sampler_list</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">make_sampler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">sampler_list</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span> <span class="o">=</span> <span class="n">MCMC</span><span class="p">(</span><span class="n">initial_state</span><span class="p">,</span> <span class="n">sampler_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">n_burn</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_iter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_iter</span><span class="p">,</span> <span class="n">n_thin</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_thin</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the mcmc function.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">run_mcmc</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">from_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract information from MCMC solver class once its has run.</span>

<span class="sd">        Performs two operations:</span>
<span class="sd">            - For each of the components of the model: extracts the related sampled parameter values and attaches these</span>
<span class="sd">                to the component class.</span>
<span class="sd">            - For all keys in the mcmc.store dictionary: extracts the sampled parameter values from self.mcmc.store and</span>
<span class="sd">                puts them into the equivalent fields in the state</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">state</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">component</span><span class="o">.</span><span class="n">from_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">store</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">store</span><span class="p">:</span>
            <span class="n">state</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">store</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">plot_log_posterior</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">burn_in_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">plot</span><span class="p">:</span> <span class="n">Plot</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">())</span> <span class="o">-&gt;</span> <span class="n">Plot</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plots the trace of the log posterior over the iterations of the MCMC.</span>

<span class="sd">        Args:</span>
<span class="sd">            burn_in_value (int): Burn in value to show in plot.</span>
<span class="sd">            plot (Plot, optional): Plot object to which this figure will be added in the figure dictionary</span>

<span class="sd">        Returns:</span>
<span class="sd">            plot (Plot): Plot object to which this figure is added in the figure dictionary with</span>
<span class="sd">                key &#39;log_posterior_plot&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot</span><span class="o">.</span><span class="n">plot_single_trace</span><span class="p">(</span><span class="n">object_to_plot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="p">,</span> <span class="n">burn_in</span><span class="o">=</span><span class="n">burn_in_value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">plot</span>

    <span class="k">def</span> <span class="nf">plot_fitted_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="p">:</span> <span class="n">Plot</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">())</span> <span class="o">-&gt;</span> <span class="n">Plot</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Plot the fitted values from the mcmc object against time, also shows the estimated background when possible.</span>

<span class="sd">        Based on the inputs it plots the results of the mcmc analysis, being the fitted values of the concentration</span>
<span class="sd">        measurements together with the 10th and 90th quantile lines to show the goodness of fit of the estimates.</span>

<span class="sd">        Args:</span>
<span class="sd">            plot (Plot, optional): Plot object to which this figure will be added in the figure dictionary</span>

<span class="sd">        Returns:</span>
<span class="sd">            plot (Plot): Plot object to which this figure is added in the figure dictionary with key &#39;fitted_values&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">plot</span><span class="o">.</span><span class="n">plot_fitted_values_per_sensor</span><span class="p">(</span>
            <span class="n">mcmc_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="p">,</span> <span class="n">sensor_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span><span class="p">,</span> <span class="n">background_model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">sensor_object</span><span class="p">,</span> <span class="n">meteorology</span><span class="p">,</span> <span class="n">gas_species</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="n">SpatioTemporalBackground</span><span class="p">(),</span> <span class="n">source_model</span><span class="o">=</span><span class="n">Normal</span><span class="p">(),</span> <span class="n">error_model</span><span class="o">=</span><span class="n">BySensor</span><span class="p">(),</span> <span class="n">offset_model</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialise the ELQModel model.</p>
<p>Model form is as follows:
y = A<em>s + b + d + e
where:
- y is the vector of observed concentration data (extracted from the sensor object).
- A</em>s is the source contribution (from the source model and dispersion model).
- b is from the background model.
- d is from the offset model.
- e is residual error term and var(e) comes from the error precision model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sensor_object</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.sensor.sensor.SensorGroup" href="../sensor/sensor/#pyelq.sensor.sensor.SensorGroup">SensorGroup</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>sensor data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>meteorology</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="pyelq.meteorology.Meteorology" href="../meteorology/#pyelq.meteorology.Meteorology">Meteorology</a>, <a class="autorefs autorefs-internal" title="pyelq.meteorology.MeteorologyGroup" href="../meteorology/#pyelq.meteorology.MeteorologyGroup">MeteorologyGroup</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>meteorology data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gas_species</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.gas_species.GasSpecies" href="../gas_species/#pyelq.gas_species.GasSpecies">GasSpecies</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>gas species object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>background</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.component.background.Background" href="../component/background/#pyelq.component.background.Background">Background</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>background model specification. Defaults to SpatioTemporalBackground().</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.component.background.SpatioTemporalBackground" href="../component/background/#pyelq.component.background.SpatioTemporalBackground">SpatioTemporalBackground</a>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_model</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.component.source_model.SourceModel" href="../component/source_model/#pyelq.component.source_model.SourceModel">SourceModel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>source model specification. Defaults to Normal().</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.component.source_model.Normal" href="../component/source_model/#pyelq.component.source_model.Normal">Normal</a>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>error_model</code>
            </td>
            <td>
                  <code>Precision</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>measurement precision model specification. Defaults to BySensor().</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.component.error_model.BySensor" href="../component/error_model/#pyelq.component.error_model.BySensor">BySensor</a>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>offset_model</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.component.offset.PerSensor" href="../component/offset/#pyelq.component.offset.PerSensor">PerSensor</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>offset model specification. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sensor_object</span><span class="p">:</span> <span class="n">SensorGroup</span><span class="p">,</span>
    <span class="n">meteorology</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Meteorology</span><span class="p">,</span> <span class="n">MeteorologyGroup</span><span class="p">],</span>
    <span class="n">gas_species</span><span class="p">:</span> <span class="n">GasSpecies</span><span class="p">,</span>
    <span class="n">background</span><span class="p">:</span> <span class="n">Background</span> <span class="o">=</span> <span class="n">SpatioTemporalBackground</span><span class="p">(),</span>
    <span class="n">source_model</span><span class="p">:</span> <span class="n">SourceModel</span> <span class="o">=</span> <span class="n">Normal</span><span class="p">(),</span>
    <span class="n">error_model</span><span class="p">:</span> <span class="n">ErrorModel</span> <span class="o">=</span> <span class="n">BySensor</span><span class="p">(),</span>
    <span class="n">offset_model</span><span class="p">:</span> <span class="n">PerSensor</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialise the ELQModel model.</span>

<span class="sd">    Model form is as follows:</span>
<span class="sd">    y = A*s + b + d + e</span>
<span class="sd">    where:</span>
<span class="sd">    - y is the vector of observed concentration data (extracted from the sensor object).</span>
<span class="sd">    - A*s is the source contribution (from the source model and dispersion model).</span>
<span class="sd">    - b is from the background model.</span>
<span class="sd">    - d is from the offset model.</span>
<span class="sd">    - e is residual error term and var(e) comes from the error precision model.</span>

<span class="sd">    Args:</span>
<span class="sd">        sensor_object (SensorGroup): sensor data.</span>
<span class="sd">        meteorology (Union[Meteorology, MeteorologyGroup]): meteorology data.</span>
<span class="sd">        gas_species (GasSpecies): gas species object.</span>
<span class="sd">        background (Background): background model specification. Defaults to SpatioTemporalBackground().</span>
<span class="sd">        source_model (SourceModel): source model specification. Defaults to Normal().</span>
<span class="sd">        error_model (Precision): measurement precision model specification. Defaults to BySensor().</span>
<span class="sd">        offset_model (PerSensor): offset model specification. Defaults to None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span> <span class="o">=</span> <span class="n">sensor_object</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">meteorology</span> <span class="o">=</span> <span class="n">meteorology</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gas_species</span> <span class="o">=</span> <span class="n">gas_species</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="n">background</span><span class="p">,</span>
        <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_model</span><span class="p">,</span>
        <span class="s2">&quot;error_model&quot;</span><span class="p">:</span> <span class="n">error_model</span><span class="p">,</span>
        <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">offset_model</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">error_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;error_model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BySensor</span><span class="p">()</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;None is not an allowed type for error_model: resetting to default BySensor model.&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.initialise" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">initialise</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Take data inputs and extract relevant properties.</p>

            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Take data inputs and extract relevant properties.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">component_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">if</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;B_bg&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="s2">&quot;source&quot;</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">[</span><span class="s2">&quot;s&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;s&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;A&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;offset&quot;</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;B_d&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">component_keys</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">initialise</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">meteorology</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gas_species</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.to_mcmc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_mcmc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Convert the ELQModel specification into an MCMC solver object that can be run.</p>


<details class="executing-the-following-steps" open>
  <summary>Executing the following steps</summary>
  <ul>
<li>Initialise the model object with the data likelihood (response distribution for y), and add all the
    associated prior distributions, as specified by the model components.</li>
<li>Initialise the state dictionary with the observed sensor data, and add parameters associated with all
    the associated prior distributions, as specified by the model components.</li>
<li>Initialise the MCMC sampler objects associated with each of the model components.</li>
<li>Create the MCMC solver object, using all of the above information.</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the ELQModel specification into an MCMC solver object that can be run.</span>

<span class="sd">    Executing the following steps:</span>
<span class="sd">        - Initialise the model object with the data likelihood (response distribution for y), and add all the</span>
<span class="sd">            associated prior distributions, as specified by the model components.</span>
<span class="sd">        - Initialise the state dictionary with the observed sensor data, and add parameters associated with all</span>
<span class="sd">            the associated prior distributions, as specified by the model components.</span>
<span class="sd">        - Initialise the MCMC sampler objects associated with each of the model components.</span>
<span class="sd">        - Create the MCMC solver object, using all of the above information.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_precision</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;error_model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">precision_parameter</span>
    <span class="n">model</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">location_scale</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span>
            <span class="s2">&quot;y&quot;</span><span class="p">,</span>
            <span class="n">mean</span><span class="o">=</span><span class="n">parameter</span><span class="o">.</span><span class="n">LinearCombinationWithTransform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">),</span>
            <span class="n">precision</span><span class="o">=</span><span class="n">response_precision</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>

    <span class="n">initial_state</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span><span class="o">.</span><span class="n">concentration</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">make_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">initial_state</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">make_state</span><span class="p">(</span><span class="n">initial_state</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;mean&quot;</span><span class="p">})</span>

    <span class="n">sampler_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">sampler_list</span> <span class="o">=</span> <span class="n">component</span><span class="o">.</span><span class="n">make_sampler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">sampler_list</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span> <span class="o">=</span> <span class="n">MCMC</span><span class="p">(</span><span class="n">initial_state</span><span class="p">,</span> <span class="n">sampler_list</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">n_burn</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_iter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_iter</span><span class="p">,</span> <span class="n">n_thin</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_thin</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.run_mcmc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_mcmc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Run the mcmc function.</p>

            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the mcmc function.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">run_mcmc</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.from_mcmc" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_mcmc</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Extract information from MCMC solver class once its has run.</p>


<details class="performs-two-operations" open>
  <summary>Performs two operations</summary>
  <ul>
<li>For each of the components of the model: extracts the related sampled parameter values and attaches these
    to the component class.</li>
<li>For all keys in the mcmc.store dictionary: extracts the sampled parameter values from self.mcmc.store and
    puts them into the equivalent fields in the state</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">from_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract information from MCMC solver class once its has run.</span>

<span class="sd">    Performs two operations:</span>
<span class="sd">        - For each of the components of the model: extracts the related sampled parameter values and attaches these</span>
<span class="sd">            to the component class.</span>
<span class="sd">        - For all keys in the mcmc.store dictionary: extracts the sampled parameter values from self.mcmc.store and</span>
<span class="sd">            puts them into the equivalent fields in the state</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">state</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">component</span><span class="o">.</span><span class="n">from_mcmc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">store</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">store</span><span class="p">:</span>
        <span class="n">state</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="o">.</span><span class="n">store</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.plot_log_posterior" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_log_posterior</span><span class="p">(</span><span class="n">burn_in_value</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="n">Plot</span><span class="p">())</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Plots the trace of the log posterior over the iterations of the MCMC.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>burn_in_value</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Burn in value to show in plot.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>plot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.plotting.plot.Plot" href="../plotting/plot/#pyelq.plotting.plot.Plot">Plot</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plot object to which this figure will be added in the figure dictionary</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.plotting.plot.Plot" href="../plotting/plot/#pyelq.plotting.plot.Plot">Plot</a>()</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>plot</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.plotting.plot.Plot" href="../plotting/plot/#pyelq.plotting.plot.Plot">Plot</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plot object to which this figure is added in the figure dictionary with
key 'log_posterior_plot'</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_log_posterior</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">burn_in_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">plot</span><span class="p">:</span> <span class="n">Plot</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">())</span> <span class="o">-&gt;</span> <span class="n">Plot</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plots the trace of the log posterior over the iterations of the MCMC.</span>

<span class="sd">    Args:</span>
<span class="sd">        burn_in_value (int): Burn in value to show in plot.</span>
<span class="sd">        plot (Plot, optional): Plot object to which this figure will be added in the figure dictionary</span>

<span class="sd">    Returns:</span>
<span class="sd">        plot (Plot): Plot object to which this figure is added in the figure dictionary with</span>
<span class="sd">            key &#39;log_posterior_plot&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">plot_single_trace</span><span class="p">(</span><span class="n">object_to_plot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="p">,</span> <span class="n">burn_in</span><span class="o">=</span><span class="n">burn_in_value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyelq.model.ELQModel.plot_fitted_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_fitted_values</span><span class="p">(</span><span class="n">plot</span><span class="o">=</span><span class="n">Plot</span><span class="p">())</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Plot the fitted values from the mcmc object against time, also shows the estimated background when possible.</p>
<p>Based on the inputs it plots the results of the mcmc analysis, being the fitted values of the concentration
measurements together with the 10th and 90th quantile lines to show the goodness of fit of the estimates.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>plot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.plotting.plot.Plot" href="../plotting/plot/#pyelq.plotting.plot.Plot">Plot</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plot object to which this figure will be added in the figure dictionary</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.plotting.plot.Plot" href="../plotting/plot/#pyelq.plotting.plot.Plot">Plot</a>()</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>plot</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="pyelq.plotting.plot.Plot" href="../plotting/plot/#pyelq.plotting.plot.Plot">Plot</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plot object to which this figure is added in the figure dictionary with key 'fitted_values'</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/pyelq/model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_fitted_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot</span><span class="p">:</span> <span class="n">Plot</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">())</span> <span class="o">-&gt;</span> <span class="n">Plot</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot the fitted values from the mcmc object against time, also shows the estimated background when possible.</span>

<span class="sd">    Based on the inputs it plots the results of the mcmc analysis, being the fitted values of the concentration</span>
<span class="sd">    measurements together with the 10th and 90th quantile lines to show the goodness of fit of the estimates.</span>

<span class="sd">    Args:</span>
<span class="sd">        plot (Plot, optional): Plot object to which this figure will be added in the figure dictionary</span>

<span class="sd">    Returns:</span>
<span class="sd">        plot (Plot): Plot object to which this figure is added in the figure dictionary with key &#39;fitted_values&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot</span><span class="o">.</span><span class="n">plot_fitted_values_per_sensor</span><span class="p">(</span>
        <span class="n">mcmc_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mcmc</span><span class="p">,</span> <span class="n">sensor_object</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_object</span><span class="p">,</span> <span class="n">background_model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "tags": {"Pipelines": "pipelines"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>